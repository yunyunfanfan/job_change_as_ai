<!--
	此示例下载自 https://echarts.apache.org/examples/zh/editor.html?c=bar-simple&code=5VjrbttGFv5foO8w2KJQjLixJEq25GwX0I22vJZ8rzfe7Q-KpKlxeBEo6uoK6LaJnSzSJMU6TZtmu8E23WviJEUXie3YfhlRkn_1FXqGlChKViS5vjRtCcOkZs7MuX3nzDkzNITePe7z5huwi_7lXvX6eu3_Vyrbt_XNe-Wt6-ic_vxb_eGV6u2171_e02_uVL_Y1bfvoPOosrFVu_4tfNR2H5VfbFf__o-D9VsoyKT5Yc-AsdsJyGTs47qAppU01nCWR3MSFnl0rvL8WXVnn_B_y0V7nZQTOGYZFWFJsEjfRQ6O0ZhRLDECP5TOCufzkngxYQg4OD0edy8VghSzOOtkwk4cmw_kojioLC2KMjM-44-uRHKxUFTgJFHknBNZntCEgCZMxgP5WDiAo-NJLTHmLU7PTSjc-GxuCvuyHMVRkzJbnJT8haWCrwB0uUmK8IqeD-GAMD0WT7FSPL00F1whe8bnYZ-xuHd6Luoi_NgVGAsvwN5xJyv51aV5J44W6TGgKxrz1Gwh4dbEyT9wqaXxWQXWuUFuiVnMp0GOTMLtFaPYV-f1XjoxJuZY94JwiRJAp5gLaFd42DNuyD_hqa8vkLEp2H9JEtMJkMvGMzstKEI0nBcTY_kUOx4XQV5jXXwuCvtehn1niO0Khj4YZJTJmAB6LaUSYzl_FMfysysLuVgxgCeLnt9HQwEfO0Y7mVDwMsgcj4ZjYNdLrigdEYCnMBVeEOLFgBBfOa4dgkVufCLLuBfAT2JmaTGeZEFG2M-VkGYMWaZD_iInsecdF-tgc19AcV5gDATRqpKTDbDV_vo3A2zuoCc0EmmCzSL9BYFtIhSPxKhZcO7Zgc3ieRJgK8yszIbjzoUuYGMtsMXn62ArHtcOPwJsFAFbRlMZEdEioxlQq_zn88rXdwy0-ULegMtnR5tJ-wsCWzIcX4jkCRjODmwWz5MAm2em-F4wNi9YYDOcPxf0xIBvrBgFWS7nYU-K2IAPR2H9JQ_s6Y0Re0BGPKI9jg6yEzmGlZSGFRmQt_rmGwglGPayoCoZmQspoqKOIsdby8bjGCTTGtZEftQkhV98XgOKqSwP2BXRHC9rWIJ_KIzTmooTGbKzuRAhkV8mxCzM82pjUFNSMOZ-2_oNO85pBRsPhNiGIBRFNegQWlZkbQ4XgdA93DK4yGMhSTglFJFrpacZqDEKMDUPYqYhQHNoVpEY2WESlcirZKwQeYGXOUuIhKJpigQLvZakHdXBGi8tYk5LjiKX1zY2XpepOcgqMlmNVVbkuynfVNPlsXSxLOL1eo-mYZ3YyDHoj45GReUYRI7GgWd-G-nI8X7TIpqiiBoGbzV8r2JB4IkURMGGFMuKKjEaWATGV5kS-m1CHfrdaqIEy9gSOrfKld4e6KVu_15K8yrm06CIOQMR8c6xH2ur6qNHTv3ZR1Abl1881vc_1je_gv-1r68efPNUv7924iwtG8iMBCZxzCsaeMDyrlZIkdEUtuCCkMpwOEP0dzgBl8jhAni-30SJAU0y6zWnyas5TdzWbn4btGia9kWCTV4kCFSOV620EBkOjgxHDhPU8e9ujDcwByHDJHixhVs6qeRGAUoZ3rZNygClGR8t0dUOMMNCf5JXNfL-wEP5_SU7qYpZkMPGjYAYKNvGWlJJM8Z6JpQ2ewW9I0G3r326K57baFMMx2FZAId5B5HT_DMCsPEYyG83qk0Es6hotVaH7NFDqz5C0M6_nkpWUZYRM4TRYCuAUamuA1lySnHqMuO0cv9Dfe1q9eYTqLY-36t9elf_ywN9c3cAvYPgd_XhdvWLPf3aWuXJxqkHb1SWeRXNgjv7jWDXsBGjFJyFfYdwWmNULSALJIb9zmPEGZbTmLOJ1ZbIIWufMao6J6e2DGQvTPrLQHWwNhesInuA1SHspvzUYMtE3au249I-axe2GY3-QJgOOQH_rcQN5zQJzWsOILTR2eO7o4wu98hwRxltx3hvGQPOkDNC9yGj2R0fUcYRClJYRxHN6qIfCelIeNjv70PCevJrlbDxefopyG2VCgd3vzNSUHl3v7rx79r6f83rNvMCDjq-U848YyqTSmI2faTkQ7IOZJfh1yT5gHkqD15AtVXe34TLyIMPd2p7n5IE_2Cr8slm9dmOfu1_tf0N_cuv9Cdb-vZG9d4V_cmNymfrlfuPKg_Wq4_3Oiay5YzMEp7nUozKSOmBtjoAL9cnLhBTkubKFvEDSOW1jCpDNgTRo1C-f1AifViP9VY02tbLvNBxvY0gc5jAHm3kPtcEVVPr5_rLW9-_vAFHXm131wRby4La048rd74rb6-hpJGjh3IkSyK430VeJyws73yj39g6uPrJb_SH_9Kf3gK7V67dLr-4CeAub98AeAOq6xRg79o__1x59lHXYstwMlHk0Dh5TClGgXlrZJuPIZw52WGWEbHQuTy0DoL2NraDBIbPyD3LqP1y-TCdrexqd4QRd6Y7eynZTcez0bCBxR-hoYHHn4OGxsHSW8EOR0RbmzLJFJQM6NXCMwl5ilx2iAz0wcuMmLZs-VNXLl1ql17Vy6tO3ogfGkBy5Pdz4nepS3pVJq88-d20lw4dlf-hmqNH1fHquoMeiYRbuZ9dNUE1G5qHnx1qaCBbQ9bXH9-FedLY3H95-mXFVAaiFM3Dlc2RCgtSUUDlMOI7fmGhKml-3mBmRN6JFhwqtKoaUUNjZLj407D95qVbroJkoGGWEQN1CglzXPNC71AjlYALChv8bBcPvlc0Uj6nPXn--rqocJj2RAKvdxcVpiNBOvhad1E07QoTxv13Ud3aKPKC79LFHwA&enc=deflate
	⚠ 请注意，该图表不是 Apache ECharts 官方示例，而是由用户代码生成的。请注意鉴别其内容。
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
  <div id="container" style="height: 100%"></div>

  
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  
  <!-- Uncomment this line if you want to dataTool extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/dataTool.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use gl extension
  <script type="text/javascript" src="https://echarts.apache.org/zh/js/vendors/echarts-gl/dist/echarts-gl.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-stat extension
  <script type="text/javascript" src="https://echarts.apache.org/zh/js/vendors/echarts-stat/dist/ecStat.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-graph-modularity extension
  <script type="text/javascript" src="https://echarts.apache.org/zh/js/vendors/echarts-graph-modularity/dist/echarts-graph-modularity.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use map
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  -->
  <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5/dist/extension/bmap.min.js"></script>
  -->

  <script type="text/javascript">
    var dom = document.getElementById('container');
    var myChart = echarts.init(dom, null, {
      renderer: 'canvas',
      useDirtyRect: false
    });
    var app = {};
    
    var option;

    // =================================================================
// 图片资源定义 (已处理：去白底 + 改色 + 转为矢量 Base64)
// =================================================================

// 1. Positive Smile (深绿色 #1F5030)
var imgPositive = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iNDUiIHN0cm9rZT0iIzFGNTAzMCIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSJub25lIi8+CiAgPGVsbGlwc2UgY3g9IjM1IiBjeT0iNDAiIHJ4PSI2IiByeT0iOCIgZmlsbD0iIzFGNTAzMCIvPgogIDxlbGxpcHNlIGN4PSI2NSIgY3k9IjQwIiByeD0iNiIgcnk9IjgiIGZpbGw9IiMxRjUwMzAiLz4KICA8cGF0aCBkPSJNIDMwIDY1IFEgNTAgODUgNzAgNjUiIHN0cm9rZT0iIzFGNTAzMCIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+';

// 2. Negative Frown (深蓝色 #2B4C7E)
var imgNegative = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iNDUiIHN0cm9rZT0iIzJCNEM3RSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSJub25lIi8+CiAgPGVsbGlwc2UgY3g9IjM1IiBjeT0iNDAiIHJ4PSI2IiByeT0iOCIgZmlsbD0iIzJCNEM3RSIvPgogIDxlbGxpcHNlIGN4PSI2NSIgY3k9IjQwIiByeD0iNiIgcnk9IjgiIGZpbGw9IiMyQjRDN0UiLz4KICA8cGF0aCBkPSJNIDMwIDc1IFEgNTAgNTUgNzAgNzUiIHN0cm9rZT0iIzJCNEM3RSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSJub25lIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+';

// 3. Neutral Flat (深橘棕色 #8C5A18)
var imgNeutral = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iNDUiIHN0cm9rZT0iIzhDNUExOCIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSJub25lIi8+CiAgPGVsbGlwc2UgY3g9IjM1IiBjeT0iNDAiIHJ4PSI2IiByeT0iOCIgZmlsbD0iIzhDNUExOCIvPgogIDxlbGxpcHNlIGN4PSI2NSIgY3k9IjQwIiByeD0iNiIgcnk9IjgiIGZpbGw9IiM4QzVBMTgiLz4KICA8bGluZSB4MT0iMzIiIHkxPSI3MCIgeDI9IjY4IiB5Mj0iNzAiIHN0cm9rZT0iIzhDNUExOCIgc3Ryb2tlLXdpZHRoPSI2IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+';

// =================================================================

option = {
  backgroundColor: '#ffffff',
  title: {
    text: 'Overall Sentiment Distribution',
    left: 'center',
    top: '2%',
    textStyle: {
      color: '#333',
      fontSize: 26,
      fontWeight: 'bold',
      fontFamily: 'Times New Roman'
    }
  },
  legend: {
    bottom: '5%',
    left: 'center',
    itemWidth: 15,
    itemHeight: 15,
    icon: 'circle',
    textStyle: {
      fontSize: 14,
      color: '#555',
      fontFamily: 'Times New Roman'
    },
    data: ['Positive', 'Negative', 'Neutral']
  },
  tooltip: {
    trigger: 'item',
    formatter: '{a} <br/>{b}: {c} ({d}%)',
    textStyle: {
      fontFamily: 'Times New Roman'
    }
  },
  series: [
    // ------------------------------------------------------------------
    // 第0层：中心实心装饰圆
    // ------------------------------------------------------------------
    {
      name: 'Total',
      type: 'pie',
      radius: ['0%', '15%'],
      center: ['50%', '50%'],
      itemStyle: {
        color: '#FFF8EB',
        borderColor: '#E6B76E',
        borderWidth: 2
      },
      label: {
        show: true,
        position: 'center',
        formatter: 'Total\n{total|4399}',
        rich: {
          total: {
            fontSize: 24,
            fontWeight: 'bold',
            color: '#B57B28',
            fontFamily: 'Times New Roman',
            padding: [5, 0, 0, 0]
          }
        },
        color: '#8C5A18',
        fontSize: 14,
        fontWeight: 'bold',
        fontFamily: 'Times New Roman'
      },
      data: [{ value: 1, name: 'Total' }]
    },

    // ------------------------------------------------------------------
    // 第1层：最内环 (显著加宽) - 显示百分比
    // ------------------------------------------------------------------
    {
      name: 'Inner Ring',
      type: 'pie',
      radius: ['16%', '32%'],
      center: ['50%', '50%'],
      startAngle: 90,
      label: {
        show: true,
        position: 'inside',
        formatter: '{d}%',
        fontSize: 14,
        fontWeight: 'bold',
        fontFamily: 'Times New Roman'
      },
      itemStyle: {
        borderColor: '#ffffff',
        borderWidth: 2
      },
      data: [
        { 
          value: 2393, 
          name: 'Positive', 
          itemStyle: { color: '#9ADFC0' }, 
          label: { color: '#1F5030' } 
        },
        { 
          value: 1276, 
          name: 'Negative', 
          itemStyle: { color: '#A0C0EF' }, 
          label: { color: '#2B4C7E' } 
        },
        { 
          value: 730, 
          name: 'Neutral', 
          itemStyle: { color: '#FED699' }, 
          label: { color: '#8C5A18' } 
        }
      ]
    },

    // ------------------------------------------------------------------
    // 第2层：中间环 (使用自定义图片)
    // ------------------------------------------------------------------
    {
      name: 'Graphics Ring',
      type: 'pie',
      radius: ['32%', '62%'],
      center: ['50%', '50%'],
      startAngle: 90,
      label: {
        show: true,
        position: 'inside',
        // 核心修改逻辑：根据类别返回对应的富文本标签
        formatter: function(params) {
           if(params.name === 'Positive') return '{posIcon|}';
           if(params.name === 'Negative') return '{negIcon|}';
           return '{neuIcon|}';
        },
        // 定义富文本样式，加载图片
        // 调整了 height/width 为 50，以匹配"大小改成与第二层环匹配"的要求
        rich: {
            posIcon: {
                height: 50, 
                width: 50,  
                align: 'center',
                backgroundColor: {
                    image: imgPositive
                }
            },
            negIcon: {
                height: 50,
                width: 50,
                align: 'center',
                backgroundColor: {
                    image: imgNegative
                }
            },
            neuIcon: {
                height: 50,
                width: 50,
                align: 'center',
                backgroundColor: {
                    image: imgNeutral
                }
            }
        }
      },
      labelLayout: {
          hideOverlap: false
      },
      itemStyle: {
        borderColor: '#ffffff',
        borderWidth: 2
      },
      data: [
        { 
            value: 2393, 
            name: 'Positive', 
            itemStyle: { color: '#E9F8EE' }
        },
        { 
            value: 1276, 
            name: 'Negative', 
            itemStyle: { color: '#F2F5FC' }
        },
        { 
            value: 730, 
            name: 'Neutral', 
            itemStyle: { color: '#FEF7ED' }
        }
      ]
    },

    // ------------------------------------------------------------------
    // 第3层：最外环 (显著加宽，文字最显眼)
    // ------------------------------------------------------------------
    {
      name: 'Outer Text Ring',
      type: 'pie',
      radius: ['62%', '78%'],
      center: ['50%', '50%'],
      startAngle: 90,
      roseType: false,
      label: {
        show: true,
        position: 'inside',
        rotate: 'tangential',
        align: 'center',
        verticalAlign: 'middle',
        formatter: '{b}', 
        fontSize: 28,
        fontWeight: 800,
        fontFamily: 'Times New Roman'
      },
      itemStyle: {
        borderColor: '#ffffff',
        borderWidth: 2
      },
      data: [
        { 
          value: 2393, 
          name: 'Positive', 
          itemStyle: { color: '#DDF4EA' }, 
          label: { color: '#1F5030' } 
        },
        { 
          value: 1276, 
          name: 'Negative', 
          itemStyle: { color: '#DFEBFB' }, 
          label: { color: '#2B4C7E' } 
        },
        { 
          value: 730, 
          name: 'Neutral', 
          itemStyle: { color: '#FFF1DE' }, 
          label: { color: '#8C5A18' }  
        }
      ]
    }
  ]
};

    if (option && typeof option === 'object') {
      myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
  </script>
</body>
</html>